http://os.mbed.com/users/aberk/code/Motor/#c75b234558afd9babbb341f3b27f1d06a26c198c